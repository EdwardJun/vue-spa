webpackJsonp([53],{JNyQ:function(e,i,t){var n=t("JLGU");(e.exports=t("XLS9")(!1)).push([e.i,'\n@charset "UTF-8";\n.clearfix {\n  display: inline-block;\n}\n.clearfix:after {\n    display: block;\n    content: ".";\n    height: 0;\n    line-height: 0;\n    clear: both;\n    visibility: hidden;\n}\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.7);\n    transform: scaleY(0.7);\n}\n}\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5);\n}\n}\ndiv#item-receive {\n  /*手机号*/\n  /*弹窗*/\n}\ndiv#item-receive div.page-title {\n    background-color: #fff;\n}\ndiv#item-receive div.item-friends {\n    height: 1.80556rem;\n    background-color: #fff4e1;\n}\ndiv#item-receive div.item-friends > div {\n      float: left;\n      margin-left: 0.5rem;\n}\ndiv#item-receive div.item-friends > div:nth-of-type(1) {\n        width: 1.36111rem;\n        height: 1.36111rem;\n        border-radius: 50%;\n        background-color: #202020;\n        background-size: 1.36111rem 1.36111rem;\n        background-repeat: no-repeat;\n        background-position: center center;\n        background-image: url('+n(t("J1sf"))+");\n        border: 0.02778rem solid #f3f3f3;\n        margin-top: 0.22222rem;\n}\ndiv#item-receive div.item-friends > div:nth-of-type(2) {\n        height: 1.36111rem;\n        font-size: 18px;\n        color: #a37f42;\n        line-height: 1.36111rem;\n        margin-top: 0.22222rem;\n}\ndiv#item-receive div.item-card-info {\n    padding: 0.66667rem 0.66667rem;\n}\ndiv#item-receive div.item-card-info > div {\n      padding: 0 0.55556rem;\n      background-color: #fff;\n      border-radius: 0.13889rem;\n}\ndiv#item-receive div.item-card-info > div > div {\n        /*标题*/\n        /*内容*/\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(1) {\n          color: #212121;\n          font-size: 18px;\n          border-bottom: 1px solid #eee;\n          padding-top: 0.27778rem;\n          padding-bottom: 0.27778rem;\n          position: relative;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(1) > div {\n            position: absolute;\n            right: 0;\n            top: 0.27778rem;\n            color: #f66;\n            font-size: 16px;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(1) > div > span {\n              font-size: 16px;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(1) > div > span:nth-of-type(1) {\n                width: 0.55556rem;\n                height: 0.55556rem;\n                display: inline-block;\n                padding-right: 0.05556rem;\n                background-size: 0.55556rem 0.55556rem;\n                background-repeat: no-repeat;\n                background-image: url("+n(t("JbVu"))+');\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(1) > div > span:nth-of-type(2) {\n                color: #616161;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(1) > div > span:nth-of-type(3) {\n                color: #f66;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) {\n          display: block;\n          overflow-y: auto;\n          padding: 0.52778rem 0;\n          position: relative;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div {\n            float: left;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(1) {\n              /*图片*/\n              width: 3.77778rem;\n              height: 3.77778rem;\n              background-repeat: no-repeat;\n              background-position: center center;\n              background-size: 3.77778rem 3.77778rem;\n              background-repeat: no-repeat;\n              border-radius: 0.27778rem;\n              position: relative;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(1):after {\n                position: absolute;\n                color: #fff;\n                height: 0.944rem;\n                top: 0;\n                left: 0;\n                padding: 0 0.15rem;\n                line-height: 0.944rem;\n                background: #fbaa52;\n                text-align: center;\n                font-size: 0.611rem;\n                border-top-left-radius: 4px;\n                border-bottom-right-radius: 4px;\n                content: "\\6B21\\5361";\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(2) {\n              margin-left: 0.55556rem;\n              -webkit-box-flex: 1;\n              box-flex: 1;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(2) > div > div {\n                height: 2.08333rem;\n                line-height: 1.66667rem;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(2) > div > div:nth-of-type(1) {\n                  -webkit-box-flex: 1;\n                  box-flex: 1;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(2) > div > div:nth-of-type(1) > div {\n                    color: #212121;\n                    font-size: 18px;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(2) > div > div:nth-of-type(2) {\n                  color: #616161;\n                  -webkit-box-flex: 1;\n                  box-flex: 1;\n                  font-size: 16px;\n                  overflow: hidden;\n                  text-overflow: ellipsis;\n                  white-space: nowrap;\n                  width: 9rem;\n}\ndiv#item-receive div.item-card-info > div > div:nth-of-type(2) > div:nth-of-type(3) {\n              font-size: 22px;\n              color: #ff6666;\n              position: absolute;\n              right: 0;\n              bottom: 1.11111rem;\n}\ndiv#item-receive div.spec {\n    padding: 0.27778rem 0.66667rem;\n    position: relative;\n}\ndiv#item-receive div.spec > div:nth-of-type(1) {\n      background-color: #fff;\n      border-radius: 0.27778rem;\n      padding: 0.27778rem 0.55556rem;\n      border: 1px solid #e0e0e0;\n}\ndiv#item-receive div.spec > div:nth-of-type(1) > input {\n        background-color: #fff;\n}\ndiv#item-receive div.spec > div:nth-of-type(2) {\n      padding: 0.219rem 0.69444rem;\n      display: inline-block;\n      background-color: #eeeeee;\n      border: 1px solid #616161;\n      font-size: 16px;\n      color: #616161;\n      position: absolute;\n      right: 0.66667rem;\n      border-radius: 0.41667rem;\n}\ndiv#item-receive div.spec > div > input {\n      color: #999999;\n      font-size: 20px;\n}\ndiv#item-receive div.spec div.code {\n      display: inline-block;\n      padding-right: 1.11111rem;\n}\ndiv#item-receive div.next-btn {\n    background-color: #ff6666;\n    color: #fff;\n    text-align: center;\n    font-size: 1.056rem;\n    padding: 0.41667rem 0;\n    margin: 0.27778rem 0.66667rem 0;\n    border-radius: 0.41667rem;\n}\ndiv#item-receive div.ex-info {\n    margin-top: 0.88889rem;\n    background-color: #fff;\n}\ndiv#item-receive div.ex-info > div {\n      padding: 0.55556rem 0.66667rem;\n}\ndiv#item-receive div.ex-info > div .donation-info {\n        color: #212121;\n        font-size: 18px;\n        border-bottom: 1px solid #eee;\n        padding-bottom: 0.66667rem;\n}\ndiv#item-receive div.ex-info > div > ul {\n        padding-top: 0.33333rem;\n}\ndiv#item-receive div.ex-info > div > ul > li {\n          display: inline-block;\n          font-size: 16px;\n          color: #fbab52;\n          line-height: 1.16667rem;\n          padding: 0.27778rem 0;\n}\ndiv#item-receive div.ex-info > div > ul > li:nth-of-type(1) {\n            color: #616161;\n}\ndiv#item-receive .clicBtnCode {\n    pointer-events: none;\n}\ndiv#item-receive div.receive-package-pop-wrap div.center-wrap {\n    width: 15.55556rem;\n    height: 13.88889rem;\n    background-color: #fff;\n    border-radius: 0.27778rem;\n    position: relative;\n}\ndiv#item-receive div.receive-package-pop-wrap div.center-wrap div.center-top {\n      text-align: center;\n}\ndiv#item-receive div.receive-package-pop-wrap div.center-wrap div.center-top > div:nth-of-type(1) {\n        font-size: 18px;\n        color: #212121;\n        padding: 0.69444rem 0;\n}\ndiv#item-receive div.receive-package-pop-wrap div.center-wrap div.center-top > div:nth-of-type(2) {\n        padding: 0.55556rem 0;\n        color: #616161;\n        font-size: 16px;\n        line-height: 1.5;\n}\ndiv#item-receive div.receive-package-pop-wrap div.center-wrap div.center-top > img {\n        width: 7.11111rem;\n        height: 6.97222rem;\n        background-color: #000000;\n}\ndiv#item-receive div.receive-package-pop-wrap div.center-wrap div.center-btn {\n      width: 1.611rem;\n      height: 1.611rem;\n      position: absolute;\n      color: #fff;\n      background-color: rgba(99, 99, 99, 0.7);\n      border-radius: 50%;\n      border: 1px solid #fff;\n      font-size: 1.3rem;\n      text-align: center;\n      line-height: 1.4rem;\n      left: 50%;\n      -webkit-transform: translate3d(-50%, 0, 0);\n              transform: translate3d(-50%, 0, 0);\n      margin-top: 1.27778rem;\n}\n',""])},JbVu:function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlCMDhBNjBCMkYyNTExRTdBMkEyRjY2RkE2OUUyN0RDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlCMDhBNjBDMkYyNTExRTdBMkEyRjY2RkE2OUUyN0RDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUIwOEE2MDkyRjI1MTFFN0EyQTJGNjZGQTY5RTI3REMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUIwOEE2MEEyRjI1MTFFN0EyQTJGNjZGQTY5RTI3REMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz59VMbSAAABtklEQVR42qzVTSgEYRgH8NlBPi7EOhB3V7Xl46Aol03skqS9GBfU+kwOm4OSLQeKg1BSCtseFhcOcpCLAw6cpBwIB4qLNrTl/+i/NU3vzmy7nvrVtvvOv30/nndchmFoisoHH7RDI1SCC57gEg4gCl/WB3VFWDfcwyYUwQr0g8HPObDGMb3Wh3NNn2XgMgzBKszCi6aucgjBNjRBEBLWwHnogy7Y0+zrFcbhlKGfMGmecg9MQCBF2AwsKr7f51qPMeMvsICDlzhAVZ3856o65lJJRqHOTSiBOS3zCkOpZEmgHw7hLYtAefZEpi+BHjjTsi+ZukfnoX38h8AHyUrucp7DYDljxVBrM0YyfiTwGaocAkNsswvYALdiTLVkSeAVNDgEHkENrPPw3ynarhmudR5kL5Q5hL6zLevgFtpMv8k/bpFzrPPW+IDpNBdfpl3PrjIviWREJTDOPhyFjgx2txVG2Lrx5C7v8obZYW+mWz62q7RtxHofDsMWxNiXbpsgN8fE+MyU6j5McNHlSlqAQbbkuelerOD6eblJAc5OecEmK8Kd9/MVEGQ3ffPM3sBAqlfArwADAKSKXfl8B4p5AAAAAElFTkSuQmCC"},PBtW:function(e,i,t){var n=t("JNyQ");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("FIqI")("4ee7704f",n,!0,{})},Pd5X:function(e,i,t){"use strict";(function(e){var n=t("vbKY"),r=t("TVG1");i.a={data:function(){return{global:n.a.data,hour:"00",min:"00",sec:"00",currCountTime:0}},watch:{expireTime:function(){if(this.expireTime&&this.modifyTime){var e=new Date(this.expireTime.replace(/-/g,"/")),i=new Date(this.modifyTime.replace(/-/g,"/")),t=e.getTime()-i.getTime();t>0?this.startCount(t):this.doExpireTime()}}},props:{expireTime:{type:String,required:!0,default:""},modifyTime:{type:String,required:!0,default:""},recordId:{type:String,required:!0,default:""}},methods:{startCount:function(e){this.currCountTime=e,this.formatTime(this.currCountTime),this.doCount()},doCount:function(){var e=this;setTimeout(function(){e.currCountTime-=1e3,e.currCountTime<1e3?(e.currCountTime=0,e.doExpireTime()):e.doCount(),e.formatTime(e.currCountTime)},1e3)},doExpireTime:function(){if(!this.recordId)return r.a.tipShow(e.visitError),this.$router.back();this.$http.get("../api/v2/user/item_card/expire/give/record",{params:{recordId:this.recordId}}).then(function(e){200!=(e=e.body).statusCode&&r.a.tipShow(e.msg)})},formatTime:function(e){var i=Math.floor,t=e/1e3,n=i(t%60),r=i(t/60%60),d=i(t/3600);this.hour=d<10?"0"+d:d,this.min=r<10?"0"+r:r,this.sec=n<10?"0"+n:n}}}}).call(i,t("nvO+"))},miis:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("vbKY"),r=t("TVG1"),d=t("Pd5X"),o={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",[t("span"),e._v(" "),t("span",[e._v("剩余")]),e._v(" "),t("span",[t("i",[e._v(e._s(e.hour))]),e._v(":"),t("i",[e._v(e._s(e.min))]),e._v(":"),t("i",[e._v(e._s(e.sec))])])])},staticRenderFns:[]},v=t("Z0/y")(d.a,o,!1,null,null,null).exports,a=t("f9Ou"),c=t("Fc8N"),s=(t("4IlM"),{components:{"item-receive-time":v},directives:{"tel-input":a.a,"test-code-input":c.a},data:function(){return{global:n.a.data,recordId:"",tel:"",testCode:"",testCodeBtnStatus:"",testCodeBtnText:"获取验证码",userTelShow:!0,qrCodeImg:!1,qrCodeImgSrc:null,codeLisen:!0,backParam:{},disabled:!1,giveRecord:{giveUserName:"",imageUrl:"",modifyTime:"",expireTime:"",itemName:"",giveCount:"",activityName:"",status:0},modifyTime:"",user:{}}},computed:{isTestCodeVaild:function(){return/^\d{4}$/.test(this.testCode)},isTelValid:function(){return/^1[3456789]\d{9}$/.test(this.tel)}},created:function(){var e=this;e.global.loading=!1;var i=e.global,t=i.currPage.query;if(e.recordId=t.recordId,e.tel=i.userTel,document.title="领取",null!=i.userTel&&(e.userTelShow=!1),!e.recordId)return r.a.tipShow(i.visitError),e.$router.back();e.$http.get("../api/v2/user/item_card/order/receive/page",{params:{recordId:e.recordId}}).then(function(i){200==(i=i.body).statusCode&&(i=i.respData,console.log(11111111),e.giveRecord=i.giveRecord,e.modifyTime=i.currentTime,e.user=i.user)})},mounted:function(){},methods:{doCode:function(){var e=this;if("disabled"!=e.testCodeBtnStatus&&"pause"!=e.testCodeBtnStatus)if(e.isTelValid){var i=60;if(e.codeLisen){e.codeLisen=!1;var t=setInterval(function(){0==--i?(clearInterval(t),e.getTestCodeRepeatCount--,e.testCodeBtnStatus="",e.testCodeBtnText="获取验证码",e.codeLisen=!0,0==e.getTestCodeRepeatCount&&(e.testCodeBtnStatus="disabled")):e.testCodeBtnText="重新发送("+i+"s)"},1e3)}e.$http.get("../api/v1/verifyCode",{params:{mobile:e.tel,which:"itemCardReceive"}})}else r.a.tipShow("请输入正确的手机号码！")},doReceive:function(){var e=this;(e.isTelValid&&!e.userTelShow||e.isTelValid&&e.isTestCodeVaild&&e.userTelShow)&&e.$http.get("../api/v2/user/item_card/order/doReceive",{params:{phoneNum:e.tel,recordId:e.recordId,userId:e.global.userId,verifyCode:e.testCode}}).then(function(i){200==(i=i.body).statusCode?(i=i.respData,e.qrCodeImgSrc=jrQrcode.getQrBase64(i.url,{padding:0}),e.doQrCodeImg()):r.a.tipShow(i.msg)},function(){r.a.tipShow("领取异常！")})},doQrCodeImg:function(){this.qrCodeImg=!0},doCloseQrCodeImg:function(e){this[e]=!1}}}),m={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"page",attrs:{id:"item-receive"}},[t("div",{staticClass:"item-friends"},[t("div",{style:{"background-image":"url("+(e.giveRecord.avatarUrl||e.global.defaultHeader)+")"}}),e._v(" "),t("div",[e._v(e._s(e.giveRecord.giveUserName)+"赠送给你的次卡")])]),e._v(" "),t("div",{staticClass:"item-card-info"},[t("div",[t("div",[e._v("次卡信息\n                "),e._v(" "),t("item-receive-time",{directives:[{name:"show",rawName:"v-show",value:1==e.giveRecord.status,expression:"giveRecord.status==1"}],attrs:{"modify-time":e.modifyTime,"expire-time":e.giveRecord.expireTime,"record-id":e.recordId}}),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:2==e.giveRecord.status,expression:"giveRecord.status == 2"}]},[e._v("已领取")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:3==e.giveRecord.status,expression:"giveRecord.status == 3"}]},[e._v("已过期")])],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{style:{"background-image":"url("+e.giveRecord.imageUrl+")"}}),e._v(" "),t("div",[t("div",[t("div",[t("div",[e._v(e._s(e.giveRecord.activityName))])]),e._v(" "),t("div",[e._v(e._s(e.giveRecord.itemName)+" * "+e._s(e.giveRecord.giveCount)+"次 ")])])]),e._v(" "),t("div",[e._v("￥"+e._s(e.giveRecord.amount/100))])])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.giveRecord.status||1==e.giveRecord.status,expression:"giveRecord.status==0 || giveRecord.status==1"}]},[t("div",{staticClass:"tel spec"},[t("div",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"},{name:"tel-input",rawName:"v-tel-input"}],attrs:{type:"tel",placeholder:"请输入手机号",maxlength:"11",disabled:e.disabled},domProps:{value:e.tel},on:{input:function(i){i.target.composing||(e.tel=i.target.value)}}})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.userTelShow,expression:"userTelShow"}],staticClass:"auth spec"},[t("div",{staticClass:"code"},[t("input",{directives:[{name:"test-code-input",rawName:"v-test-code-input"},{name:"model",rawName:"v-model",value:e.testCode,expression:"testCode"}],attrs:{type:"tel",placeholder:"请输入验证码",maxlength:"4"},domProps:{value:e.testCode},on:{input:function(i){i.target.composing||(e.testCode=i.target.value)}}})]),t("div",{on:{click:function(i){e.doCode()}}},[e._v(e._s(e.testCodeBtnText))])]),e._v(" "),t("div",{staticClass:"next-btn",on:{click:function(i){e.doReceive()}}},[e._v("立即领取")])]),e._v(" "),e._m(0),e._v(" "),t("div",{staticClass:"receive-package-pop-wrap pop-modal",class:{active:e.qrCodeImg}},[t("div",{staticClass:"center-wrap"},[t("div",{staticClass:"center-top"},[t("div",[e._v("还差一步您即可领取到次卡啦")]),e._v(" "),t("img",{attrs:{src:e.qrCodeImgSrc}}),e._v(" "),e._m(1)]),e._v(" "),t("div",{staticClass:"center-btn",on:{click:function(i){e.doCloseQrCodeImg("qrCodeImg")}}},[e._v("×")])])])])},staticRenderFns:[function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"ex-info"},[i("div",[i("div",{staticClass:"donation-info"},[this._v("领取说明")]),this._v(" "),i("ul",[i("li",[this._v("好友发起赠送后24小时内，若您未领取次卡，赠送次卡自动失效。")])])])])},function(){var e=this.$createElement,i=this._self._c||e;return i("div",[this._v("长按二维码识别关注小摩豆,"),i("br"),this._v("领好友次卡,享更多福利")])}]};var l=t("Z0/y")(s,m,!1,function(e){t("PBtW")},null,null);i.default=l.exports}});