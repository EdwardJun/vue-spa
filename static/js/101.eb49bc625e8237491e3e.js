webpackJsonp([101],{"6jMa":function(e,n,t){var i=t("fQci");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t("FIqI")("4450a685",i,!0,{})},NBuL:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("3cXf"),a=t.n(i),o=t("vbKY"),s=t("TVG1"),r=t("f9Ou"),d=t("UIhY"),l=t("Fc8N"),p={directives:{"tel-input":r.a,"password-input":d.a,"test-code-input":l.a},data:function(){return{global:o.a.data,tel:"",password:"",testCode:"",testCodeBtnStatus:"",testCodeBtnText:"获取验证码",getTestCodeRepeatCount:6}},computed:{isTestCodeVaild:function(){return/^\d{4}$/.test(this.testCode)},isTelValid:function(){return/^1[3456789]\d{9}$/.test(this.tel)},isPasswordValid:function(){return this.password.length>=6}},created:function(){var e=window["spa-login-info"];e&&e.username&&(this.tel=e.username),this.global.loading=!1,document.title="修改密码"},methods:{doClickConfirmBtn:function(){var e=this;e.isTelValid&&e.isTestCodeVaild&&e.isPasswordValid&&e.$http.post("../api/v1/user/checkLoginName",{loginName:e.tel}).then(function(n){if((n=n.body)+""=="-1")return s.a.tipShow("用户尚未注册！");e.$http.post("../api/v1/user/resetPassword",{username:e.tel,code:e.testCode,password:e.password}).then(function(){s.a.tipShow("密码修改成功！");var n={username:e.tel,isBindWeixin:!1,password:e.password};s.a.localStorage("con-login-param",a()(n)),e.$router.push({name:"confirmLogin"})})})},getTestCode:function(){var e=this;"disabled"!=e.testCodeBtnStatus&&"pause"!=e.testCodeBtnStatus&&(e.isTelValid?e.$http.post("../api/v1/user/checkLoginName",{loginName:e.tel}).then(function(n){if((n=n.body)+""!="-1"){e.testCodeBtnStatus="pause",e.testCodeBtnText="重新发送(60s)";var t=60,i=setInterval(function(){0==--t?(clearInterval(i),e.getTestCodeRepeatCount--,e.testCodeBtnStatus="",e.testCodeBtnText="获取验证码",0==e.getTestCodeRepeatCount&&(e.testCodeBtnStatus="disabled")):e.testCodeBtnText="重新发送("+t+"s)"},1e3);e.$http.get("../api/v1/verifyCode",{params:{mobile:e.tel,which:"userRecoverPassword"}})}else s.a.tipShow("用户尚未注册！")}):s.a.tipShow("请输入正确的手机号码！"))}}},c={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"page login-page",attrs:{id:"recover-password-page"}},[t("div",{staticClass:"input tel spec"},[t("i"),t("span",[e._v("+86")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.tel,expression:"tel"},{name:"tel-input",rawName:"v-tel-input"}],attrs:{type:"tel",placeholder:"请输入您的11位手机号",maxlength:"11"},domProps:{value:e.tel},on:{input:function(n){n.target.composing||(e.tel=n.target.value)}}})]),e._v(" "),t("div",{staticClass:"input auth spec"},[t("i"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.testCode,expression:"testCode"},{name:"test-code-input",rawName:"v-test-code-input"}],attrs:{type:"tel",placeholder:"请输入手机短信验证码",maxlength:"4"},domProps:{value:e.testCode},on:{input:function(n){n.target.composing||(e.testCode=n.target.value)}}}),t("a",{class:e.testCodeBtnStatus,on:{click:function(n){e.getTestCode()}}},[e._v(e._s(e.testCodeBtnText))])]),e._v(" "),t("div",{staticClass:"input pw"},[t("i"),t("input",{directives:[{name:"password-input",rawName:"v-password-input"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入6-20位密码，仅限字母和数字",maxlength:"20"},domProps:{value:e.password},on:{input:function(n){n.target.composing||(e.password=n.target.value)}}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isTelValid,expression:"!isTelValid"}],staticClass:"error"},[e._v("* 请输入正确的11位手机号")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isTelValid&&!e.isTestCodeVaild,expression:"isTelValid && !isTestCodeVaild"}],staticClass:"error"},[e._v("* 请输入短信验证码")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isTelValid&&e.isTestCodeVaild&&!e.isPasswordValid,expression:"isTelValid && isTestCodeVaild && !isPasswordValid"}],staticClass:"error"},[e._v("* 请输入6~20位密码")]),e._v(" "),t("div",{staticClass:"next-btn",class:{active:e.isTelValid&&e.isTestCodeVaild&&e.isPasswordValid},on:{click:function(n){e.doClickConfirmBtn()}}},[e._v("确认修改密码")]),e._v(" "),t("div",{staticClass:"tip-title"},[e._v("注：")]),e._v(" "),t("div",{staticClass:"tip"},[e._v("请输入相关信息完成密码的重置")])])},staticRenderFns:[]};var u=t("Z0/y")(p,c,!1,function(e){t("6jMa")},null,null);n.default=u.exports},fQci:function(e,n,t){var i=t("JLGU");(e.exports=t("XLS9")(!1)).push([e.i,'\n.clearfix {\n  display: inline-block;\n}\n.clearfix:after {\n    display: block;\n    content: ".";\n    height: 0;\n    line-height: 0;\n    clear: both;\n    visibility: hidden;\n}\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.7);\n    transform: scaleY(0.7);\n}\n}\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5);\n}\n}\ndiv.login-page {\n  overflow: hidden;\n}\ndiv.login-page div.input {\n    height: 2.611rem;\n    position: relative;\n    width: 100%;\n    margin-top: .611rem;\n    padding: 0 .722rem;\n    background-color: #fff;\n    border-bottom: 1px solid #d9d9d9;\n}\ndiv.login-page div.input > i {\n      display: block;\n      width: 0.75rem;\n      height: 0.972rem;\n      position: absolute;\n      left: 0.722rem;\n      top: 50%;\n      margin-right: 0.5rem;\n      margin-top: -0.486rem;\n      background-size: 0.75rem 0.972rem;\n      background-repeat: no-repeat;\n}\ndiv.login-page div.input > span {\n      position: absolute;\n      left: 2.122rem;\n      color: #4d4d4d;\n      font-size: 0.888rem;\n      display: inline-block;\n      height: 1.4rem;\n      top: 50%;\n      margin-top: -0.7rem;\n}\ndiv.login-page div.input > input {\n      width: 100%;\n      height: 1.4rem;\n      line-height: 1.4rem;\n      margin-top: 0.605rem;\n      padding-left: 3.422rem;\n      color: #4d4d4d;\n      font-size: 0.888rem;\n      -webkit-box-sizing: border-box;\n              box-sizing: border-box;\n}\ndiv.login-page div.input.tel > i {\n      background-image: url('+i(t("XT6C"))+");\n}\ndiv.login-page div.input.pw, div.login-page div.input.auth {\n      margin-top: 0;\n}\ndiv.login-page div.input.pw > input, div.login-page div.input.auth > input {\n        padding-left: 1.5rem;\n}\ndiv.login-page div.input.pw > i {\n      background-image: url("+i(t("Sr54"))+");\n}\ndiv.login-page div.input.auth > i {\n      background-image: url("+i(t("3S/7"))+');\n}\ndiv.login-page div.input.auth > a {\n      position: absolute;\n      display: block;\n      right: 0.722rem;\n      width: 6.166rem;\n      height: 2.138rem;\n      top: 50%;\n      margin-top: -1.069rem;\n      background-color: #fb5549;\n      text-align: center;\n      line-height: 2.138rem;\n      font-size: .888rem;\n      border-radius: .166rem;\n      color: #fff;\n}\ndiv.login-page div.input.auth > a.disabled, div.login-page div.input.auth > a.pause {\n        background-color: #ccc;\n}\ndiv.login-page div.input.auth > a.repeat {\n        background-color: #fb5448;\n}\ndiv.login-page div.input.spec {\n      border-bottom-width: 0;\n}\ndiv.login-page div.input.spec::after {\n        content: "";\n        display: block;\n        position: absolute;\n        left: 0.722rem;\n        right: 0.722rem;\n        bottom: 0;\n        height: 1px;\n        background-color: #f0f0f0;\n}\ndiv.login-page div.next-btn {\n    background-color: #bebebe;\n    margin: 2.25rem .722rem 0;\n    color: #fff;\n    font-size: .888rem;\n    height: 2.472rem;\n    line-height: 2.472rem;\n    text-align: center;\n    border-radius: .166rem;\n    letter-spacing: 1px;\n}\ndiv.login-page div.next-btn.active {\n      background-color: #fb5549;\n}\ndiv.login-page div.tip-title {\n    font-size: .889rem;\n    color: #666;\n    margin: 1.583rem .722rem 0;\n}\ndiv.login-page div.tip {\n    margin: 0 1.811rem;\n    color: #ff9d09;\n    font-size: .778rem;\n}\ndiv.login-page div.error {\n    margin: .5rem .722rem 0;\n    font-size: .778rem;\n    color: #fb5549;\n}\ndiv.login-page div.recover-password {\n    font-size: .777rem;\n    margin: .3rem .722rem;\n    color: #fb5549;\n    text-align: right;\n}\n',""])}});