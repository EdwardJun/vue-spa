webpackJsonp([87],{ERpq:function(i,a,t){(i.exports=t("XLS9")(!1)).push([i.i,'\n.clearfix {\n  display: inline-block;\n}\n.clearfix:after {\n    display: block;\n    content: ".";\n    height: 0;\n    line-height: 0;\n    clear: both;\n    visibility: hidden;\n}\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.7);\n    transform: scaleY(0.7);\n}\n}\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5);\n}\n}\ndiv#trade-records-page div.list {\n  overflow-y: auto;\n}\ndiv#trade-records-page div.list-item {\n  background-color: #fff;\n  padding: .889rem .833rem;\n  line-height: 1;\n  color: #212121;\n  border-bottom: 1px solid #e0e0e0;\n}\ndiv#trade-records-page div.list-item > div:first-child {\n    font-size: .889rem;\n}\ndiv#trade-records-page div.list-item > div:first-child > span {\n      font-size: .778rem;\n      float: right;\n}\ndiv#trade-records-page div.list-item > div:first-child > span.recharge {\n        color: #04bd07;\n}\ndiv#trade-records-page div.list-item > div:last-child {\n    width: 100%;\n    font-size: .667rem;\n    color: #9e9e9e;\n    margin-top: .611rem;\n}\ndiv#trade-records-page div.list-item > div:last-child .name {\n      float: left;\n}\ndiv#trade-records-page div.list-item > div:last-child .time {\n      float: right;\n}\n',""])},G5Ji:function(i,a,t){var e=t("ERpq");"string"==typeof e&&(e=[[i.i,e,""]]),e.locals&&(i.exports=e.locals);t("FIqI")("2ce15b85",e,!0,{})},irC1:function(i,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=t("vbKY"),n=t("TVG1"),s={data:function(){return{global:e.a.data,dataList:[],currPage:0,pageSize:10,accountId:"",showDataLoadTip:!1,showFinishLoadTip:!1,isDataAddEnd:!1,isAddData:!1}},created:function(){var i=this.global,a=i.currPage.query;document.title="交易记录",this.accountId=a.accountId,this.accountId?this.queryRecord():(n.a.tipShow(i.visitError),this.$router.back())},methods:{queryRecord:function(i){var a=this,t=a.global;a.isAddData||(a.isAddData=!0,i=i||a.currPage+1,a.showDataLoadTip=!0,a.showFinishLoadTip=!1,a.isDataAddEnd=!1,a.$http.get("../api/v2/financial/account/trades/{accountId}",{params:{page:i,pageSize:a.pageSize,accountId:a.accountId}}).then(function(e){if(e=e.body){e="200"!=e.statusCode?[]:e.respData;for(var s=0;s<e.length;s++)e[s].income="income"==e[s].tradeType,e[s].amount=(e[s].amount/100).toFixed(2),a.dataList.push(e[s]);e.length<a.pageSize&&(a.isDataAddEnd=!0,a.showFinishLoadTip=!0),a.currPage=i,a.isAddData=!1,a.showDataLoadTip=!1,t.loading&&(t.loading=!1)}else n.a.tipShow(t.loadError)},function(){n.a.tipShow(t.loadError)}))},doHandlerListScroll:function(){var i=this.$refs.listEle;!this.isDataAddEnd&&i.scrollTop+1.4*i.clientHeight>i.scrollHeight&&this.queryRecord()}}},d={render:function(){var i=this,a=i.$createElement,t=i._self._c||a;return t("div",{staticClass:"page",attrs:{id:"trade-records-page"}},[t("div",{ref:"listEle",staticClass:"list",staticStyle:{height:"100%"},on:{scroll:function(a){i.doHandlerListScroll()}}},[i._l(i.dataList,function(a){return t("div",{staticClass:"list-item"},[t("div",[i._v(i._s(a.businessCategoryName)),t("span",{class:{recharge:a.income}},[i._v(i._s(a.income?"+":"-")+i._s(a.amount)+"元")])]),i._v(" "),t("div",{staticClass:"clearfix"},[t("span",{staticClass:"name"},[i._v(i._s(a.clubName))]),i._v(" "),t("span",{staticClass:"time"},[i._v(i._s(a.createTime))])])])}),i._v(" "),t("div",{staticClass:"data-load-tip",class:{none:!i.showDataLoadTip}},[t("div",[i._v("加载数据")])]),i._v(" "),t("div",{staticClass:"finish-load-tip",class:{none:!i.showFinishLoadTip||0==i.dataList.length}},[t("div",[i._v("已经加载全部数据")])]),i._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:0==i.dataList.length&&!i.isAddData,expression:"dataList.length==0 && !isAddData"}],staticClass:"nullData"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!i.global.loading,expression:"!global.loading"}]}),i._v(" "),t("div",[i._v(i._s(i.global.loading?"数据加载中...":"暂无内容..."))])])],2)])},staticRenderFns:[]};var r=t("Z0/y")(s,d,!1,function(i){t("G5Ji")},null,null);a.default=r.exports}});