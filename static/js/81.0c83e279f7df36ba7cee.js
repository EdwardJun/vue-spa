webpackJsonp([81],{"1oZI":function(t,e,a){var i=a("CV+V");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("39c7ef2f",i,!0,{})},"4v9M":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("vbKY"),r=a("TVG1"),n={data:function(){return{global:i.a.data,dataList:[],currPage:0,pageSize:10,statusObj:{CANCLED:{name:"已取消",value:"treat-canceled"},NOT_USERD:{name:"未使用",value:"treat-unuse"},USED:{name:"已使用",value:"treat-used"}},clubId:"",showDataLoadTip:!1,showFinishLoadTip:!1,isDataAddEnd:!1,isAddData:!1,storeDataList:["dataList","currPage","showFinishLoadTip","isDataAddEnd","showFinishLoadTip","clubId"],currScrollTop:0}},mounted:function(){var t=this.global,e=t.currPage.query;document.title="请客记录",this.clubId=e.clubId||t.clubId,this.clubId?this.queryRecord():(r.a.tipShow(t.visitError),this.$router.back())},methods:{queryRecord:function(t){var e=this,a=e.global;e.isAddData||(e.isAddData=!0,t=t||e.currPage+1,e.showDataLoadTip=!0,e.showFinishLoadTip=!1,e.isDataAddEnd=!1,e.$http.get("../api/v2/financial/account/payforother/list",{params:{page:t,pageSize:e.pageSize,clubId:e.clubId}}).then(function(i){if(i=i.body){i="200"!=i.statusCode?[]:i.respData;for(var n=0;n<i.length;n++)i[n].amount=(i[n].amount/100).toFixed(2),i[n].telStr=r.a.spaceFormat(i[n].telephone,!0),i[n].createDateStr=r.a.dateFormat(new Date(i[n].createDate.replace(/-/g,"/")),"yyyy-MM-dd hh:mm"),e.dataList.push(i[n]);i.length<e.pageSize&&(e.isDataAddEnd=!0,e.showFinishLoadTip=!0),e.currPage=t,e.isAddData=!1,e.showDataLoadTip=!1,a.loading&&(a.loading=!1)}else r.a.tipShow(a.loadError)},function(){r.a.tipShow(a.loadError)}))},doHandlerListScroll:function(){var t=this.$refs.listEle;this.currScrollTop=t.scrollTop,!this.isDataAddEnd&&t.scrollTop+1.4*t.clientHeight>t.scrollHeight&&this.queryRecord()}},beforeDestroy:function(){var t,e=this.global.pageData;e.treatRecords||(e.treatRecords={}),e=e.treatRecords;for(var a=0;a<this.storeDataList.length;a++)e[t=this.storeDataList[a]]=this[t];e.scrollTop=this.currScrollTop}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page",attrs:{id:"treat-records-page"}},[a("div",{ref:"listEle",staticClass:"list",staticStyle:{height:"100%"},on:{scroll:function(e){t.doHandlerListScroll()}}},[t._l(t.dataList,function(e){return a("router-link",{key:e.id,staticClass:"list-item",attrs:{to:{name:"treatDetail",query:{detailId:e.id}}}},[a("div",[a("div",[t._v(t._s(e.createDateStr))]),t._v(" "),a("div",{class:t.statusObj[e.status].value},[t._v(t._s(t.statusObj[e.status].name))])]),t._v(" "),a("div",[a("div",[t._v("授权金额"),a("span",[t._v(t._s(e.amount))])]),t._v(" "),a("div",[t._v("授权手机"),a("span",[t._v(t._s(e.telStr))])])])])}),t._v(" "),a("div",{staticClass:"data-load-tip",class:{none:!t.showDataLoadTip}},[a("div",[t._v("加载数据")])]),t._v(" "),a("div",{staticClass:"finish-load-tip",class:{none:!t.showFinishLoadTip||0==t.dataList.length}},[a("div",[t._v("已经加载全部数据")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==t.dataList.length&&!t.isAddData,expression:"dataList.length==0 && !isAddData"}],staticClass:"nullData"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.global.loading,expression:"!global.loading"}]}),t._v(" "),a("div",[t._v(t._s(t.global.loading?"数据加载中...":"暂无内容..."))])])],2)])},staticRenderFns:[]};var s=a("Z0/y")(n,o,!1,function(t){a("1oZI")},null,null);e.default=s.exports},"CV+V":function(t,e,a){(t.exports=a("XLS9")(!1)).push([t.i,'\n.clearfix {\n  display: inline-block;\n}\n.clearfix:after {\n    display: block;\n    content: ".";\n    height: 0;\n    line-height: 0;\n    clear: both;\n    visibility: hidden;\n}\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.7);\n    transform: scaleY(0.7);\n}\n}\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5);\n}\n}\ndiv#treat-records-page div.list {\n  overflow-y: auto;\n}\ndiv#treat-records-page a.list-item {\n  display: block;\n  background-color: #fff;\n  font-size: .778rem;\n  color: #616161;\n  line-height: 1;\n  margin-top: .667rem;\n  border-top: 1px solid #e0e0e0;\n  border-bottom: 1px solid #e0e0e0;\n}\ndiv#treat-records-page a.list-item:first-child {\n    margin-top: 0;\n    border-top: none;\n}\ndiv#treat-records-page a.list-item > div {\n    padding: .722rem .667rem;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(1) {\n      overflow: hidden;\n      border-bottom: 1px solid #e0e0e0;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(1) > div:first-child {\n        float: left;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(1) > div:last-child {\n        float: right;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(1) > div.treat-unuse {\n        color: #6c6;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(1) > div.treat-used {\n        color: #f66;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(1) > div.treat-canceled {\n        color: #212121;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(2) > div:nth-of-type(2) {\n      margin-top: .667rem;\n}\ndiv#treat-records-page a.list-item > div:nth-of-type(2) > div > span {\n      color: #212121;\n      margin-left: .667rem;\n}\n',""])}});