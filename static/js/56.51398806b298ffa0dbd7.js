webpackJsonp([56],{BT8k:function(e,i,t){var n=t("ZNYP");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("FIqI")("413342b8",n,!0,{})},KSb3:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("vbKY"),a=t("TVG1"),r={data:function(){return{global:n.a.data,amount:"-",freezeAmount:0,dataList:[],currPage:0,pageSize:10,isNoIntegral:!0,listEle:null,clubId:"",showDataLoadTip:!1,showFinishLoadTip:!1,isDataAddEnd:!1,isAddData:!1}},created:function(){var e=this,i=e.global;e.clubId=i.currPage.query.clubId||i.clubId,null==i.clubCfg.accountSwitch||e.clubId!=i.clubId?n.a.getClubSwitches(e.clubId).then(function(i){if(!i.creditSwitch)return a.a.tipShow("积分系统未开启！"),e.$router.back();e.getUserAccount()}):e.getUserAccount(),document.title="积分中心",e.queryRecord()},methods:{getUserAccount:function(){var e=this,i=e.global;e.$http.get("../api/v2/credit/user/account",{params:{clubId:e.clubId,userType:"user"}}).then(function(t){if(200==(t=t.body).statusCode){(t=t.respData)||(t=[]),0==t.length&&t.push({amount:0,freezeAmount:0});for(var n=0;n<t.length;n++)t[n].clubId==e.clubId&&(e.amount=t[n].amount,e.freezeAmount=t[n].freezeAmount);i.loading=!1}else t.msg&&(a.a.tipShow(t.msg||"获取账户积分信息失败！"),e.$router.back())},function(){a.a.tipShow(i.loadError),e.$router.back()})},queryRecord:function(e){var i=this,t=i.global;i.isAddData||(i.isAddData=!0,e=e||i.currPage+1,i.showDataLoadTip=!0,i.showFinishLoadTip=!1,i.isDataAddEnd=!1,i.$http.get("../api/v2/credit/user/records",{params:{page:e,pageSize:i.pageSize,clubId:i.clubId,userType:"user"}}).then(function(n){if(n=n.body){if(n="200"!=n.statusCode?[]:n.respData,1==e)i.dataList=n,0==n.length?i.isDataAddEnd=!0:i.isNoIntegral=!1;else{for(var r=0;r<n.length;r++)i.dataList.push(n[r]);n.length<i.pageSize&&(i.isDataAddEnd=!0,i.showFinishLoadTip=!0)}i.currPage=e,i.isAddData=!1,i.showDataLoadTip=!1}else a.a.tipShow(t.loadError)},function(){a.a.tipShow(t.loadError)}))},doHandlerListScroll:function(){var e=this.$refs.listEle;!this.isDataAddEnd&&e.scrollTop+1.4*e.clientHeight>e.scrollHeight&&this.queryRecord()}}},l={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"page",attrs:{id:"integral-detail-page"}},[t("div",{staticClass:"total"},[t("div",[e._v("现有积分\n            "),t("router-link",{attrs:{to:{name:"integralExplain"}}},[e._v("积分规则")]),e._v(" "),t("i")],1),e._v(" "),t("b",[e._v(e._s(e.amount)),t("span",[e._v("(冻结:"+e._s(e.freezeAmount)+")")])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isNoIntegral&&!e.showDataLoadTip,expression:"isNoIntegral && !showDataLoadTip"}],staticClass:"tip"},[e._v("您没有积分了，\n        "),t("router-link",{attrs:{to:{name:"integralExplain"}}},[e._v("如何获取积分")])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isNoIntegral,expression:"!isNoIntegral"}],staticClass:"title"},[e._v("积分记录")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isNoIntegral,expression:"!isNoIntegral"}],ref:"listEle",staticClass:"list",style:{height:e.global.winHeight-10.4*e.global.winScale*16+"px"},on:{scroll:function(i){e.doHandlerListScroll()}}},[e._l(e.dataList,function(i){return t("div",{staticClass:"list-item"},[t("div",[e._v(e._s(i.businessCategoryDesc)+"\n                "),t("div",{class:{add:i.amount>0}},[e._v(e._s(i.amount>0?"+":"")+e._s(i.amount))])]),e._v(" "),t("div",[t("div",{class:{active:i.peerName},style:{backgroundImage:"url("+(i.peerAvatar||e.global.defaultHeader)+")"}}),e._v(" "),t("div",[e._v(e._s(i.peerName||""))]),e._v(" "),t("span",[e._v(e._s(i.createTime))])])])}),e._v(" "),t("div",{staticClass:"data-load-tip",class:{none:!e.showDataLoadTip}},[t("div",[e._v("加载数据")])]),e._v(" "),t("div",{staticClass:"finish-load-tip",class:{none:!e.showFinishLoadTip}},[t("div",[e._v("已经加载全部数据")])])],2)])},staticRenderFns:[]};var o=t("Z0/y")(r,l,!1,function(e){t("BT8k")},null,null);i.default=o.exports},"Rc+C":function(e,i){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJFNTE4RDA4NTNFNzExRTZCMjMxRjgyMUJBNzMxMjczIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJFNTE4RDA5NTNFNzExRTZCMjMxRjgyMUJBNzMxMjczIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkU1MThEMDY1M0U3MTFFNkIyMzFGODIxQkE3MzEyNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkU1MThEMDc1M0U3MTFFNkIyMzFGODIxQkE3MzEyNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6eJ0pWAAAC5UlEQVR42qyWz0tUURTH33tatNCgMFpIhWM/CGw1GdgPKZAKK2ozNkWRm3AntYix/oDGVkm7RIcgMK020Y+hEoKMjOitcmE/NLJ2CbMYNwXO9D3wvXG5vXffnejAh3lv7r3fc98598fxC4WCl2A+2AeOgD1gM1jDthL4DF6DR2AKVG1i9Za2APSCy3QSZeuJTOQSnefBLVCJE42yFvAGjNLZArgGDoENYBVoBNvBYbZ9Yd9Rjm1xdbgfvAXtdHQapMAAeAa+g59gCcyCp2zbwr4LHCsanUkOD1KgiTnZAe6AZS/Zltm3jWNF4zmjEpnDbeA+WAlugIsReegCaW3RhOCe0acMjoProJ+aO8EH3WEduM28TIALxmoTJzf5a9o8czis/Vehhiyok9TukCiokJ5j3L+B84azFEOTpnArt4rQxz4ymYwxkSq1VE57VQ59Ln2PyS8bAwcZwgEyr7XJV/XwORfx9WVD2w+4kmQ5f2U4PePrMlrYoixkezqmfYLa4qNTHHazYTxiNYrQWi10cVYyvtxcveN87haHu/nywiI2aXGW49eFlj5KuyPghhWb8Wq3HHNcSoiC0t4aaHtqsQZHMuYunYXcZyVL/x9qXL33b6a2ybBDfv862tTMmmoIY63O1qn1IA4/8aXNcXCXtgddTWl/FIfTfDngODil7T9XU9rT4vAxX7I8U5Ns0rLn4tKW5fMTeXnJm3oTD9ok6+N56mpZaouPqYCH7CAbpTxo8P6fNVBTnckVdVtIDfIObAQjPNDjrEoyDsXXCDVD+vhz48t5d5Zlg4R1yFLvuOZtiFqieUad07roLK+aX7ypH4DVMTP3I256ZY0c20+tHmpH1jRFcIKzOgreg1OOX1vHvjMcu0StYlLVVuQNHTL+YywB8yyymsEK0sz/8jxAxrSctZvObIWwhGAXy4Ir3AbqxrfZHLhqK4Rth7cMKHDwXnCMd2erUerPsdR/CF7FOVL2W4ABAGg5sJcfnnYBAAAAAElFTkSuQmCC"},ZNYP:function(e,i,t){var n=t("JLGU");(e.exports=t("XLS9")(!1)).push([e.i,'\n.clearfix {\n  display: inline-block;\n}\n.clearfix:after {\n    display: block;\n    content: ".";\n    height: 0;\n    line-height: 0;\n    clear: both;\n    visibility: hidden;\n}\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.7);\n    transform: scaleY(0.7);\n}\n}\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5);\n}\n}\ndiv#integral-detail-page {\n  overflow-y: hidden;\n}\ndiv#integral-detail-page div.total {\n    padding: 1.111rem 1.111rem 1.111rem 0.889rem;\n    border-bottom: 1px solid #e0e0e0;\n    background-color: #fff;\n}\ndiv#integral-detail-page div.total > div {\n      color: #616161;\n      font-size: 0.889rem;\n      line-height: 1;\n}\ndiv#integral-detail-page div.total > div > a {\n        float: right;\n        font-size: 0.778rem;\n        color: #9e9e9e;\n        line-height: 1;\n}\ndiv#integral-detail-page div.total > div > i {\n        display: block;\n        float: right;\n        width: 0.778rem;\n        height: 0.778rem;\n        margin-right: 0.2rem;\n        background-size: 0.778rem 0.778rem;\n        background-image: url('+n(t("Rc+C"))+");\n        background-repeat: no-repeat;\n}\ndiv#integral-detail-page div.total > b {\n      display: block;\n      margin-top: 0.889rem;\n      color: #212121;\n      font-size: 1.778rem;\n      font-weight: normal;\n      line-height: 1;\n}\ndiv#integral-detail-page div.total > b > span {\n        margin-left: 0.3rem;\n        font-size: 0.778rem;\n        color: #9e9e9e;\n}\ndiv#integral-detail-page div.tip {\n    line-height: 2.556rem;\n    font-size: 0.778rem;\n    color: #616161;\n    text-align: center;\n}\ndiv#integral-detail-page div.tip > a {\n      color: #00aaee;\n      text-decoration: underline;\n}\ndiv#integral-detail-page div.title {\n    height: 2rem;\n    line-height: 2rem;\n    font-size: 0.778rem;\n    color: #616161;\n    padding-left: 0.889rem;\n}\ndiv#integral-detail-page div.list {\n    overflow-y: auto;\n}\ndiv#integral-detail-page div.list-item {\n    border-top: 1px solid #e0e0e0;\n    background-color: #fff;\n    padding: 0.889rem 0.889rem 0.778rem;\n}\ndiv#integral-detail-page div.list-item:last-child {\n      border-bottom: 1px solid #e0e0e0;\n}\ndiv#integral-detail-page div.list-item > div:nth-of-type(1) {\n      height: 0.889rem;\n      line-height: 0.889rem;\n      font-size: 0.889rem;\n      color: #212121;\n}\ndiv#integral-detail-page div.list-item > div:nth-of-type(1) > div {\n        float: right;\n        font-size: 0.778rem;\n}\ndiv#integral-detail-page div.list-item > div:nth-of-type(1) > div.add {\n          color: #0abe07;\n}\ndiv#integral-detail-page div.list-item > div:nth-of-type(2) {\n      position: relative;\n      margin-top: 0.444rem;\n      padding-left: 1.222rem;\n      height: 0.889rem;\n      line-height: 0.889rem;\n      color: #9e9e9e;\n      font-size: 0.667rem;\n}\ndiv#integral-detail-page div.list-item > div:nth-of-type(2) > div:nth-of-type(1) {\n        position: absolute;\n        width: 0.889rem;\n        height: 0.889rem;\n        top: 0;\n        left: 0;\n        border-radius: 50%;\n        margin-right: 0.333rem;\n        background-size: 0.889rem 0.889rem;\n        background-repeat: no-repeat;\n        visibility: hidden;\n}\ndiv#integral-detail-page div.list-item > div:nth-of-type(2) > div:nth-of-type(1).active {\n          visibility: visible;\n}\ndiv#integral-detail-page div.list-item > div:nth-of-type(2) > span {\n        position: absolute;\n        right: 0;\n        top: 0;\n}\ndiv#integral-detail-page div.finish-load-tip {\n    border-top: 1px solid #e0e0e0;\n}\n",""])}});