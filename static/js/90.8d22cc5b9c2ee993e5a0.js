webpackJsonp([90],{"KP8+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("vbKY"),a=n("TVG1"),l=n("f2qF"),o={data:function(){return{global:i.a.data,dataList:[],isPop:!1,isAll:!0,currItem:{key:"",value:""}}},created:function(){var e=window.localStorage,t=[],n="";document.title="小摩豆缓存项";for(var i=0;i<e.length;i++)n=e.key(i),t.push({key:n,value:e.getItem(n),selected:!0});this.global.loading=!1,this.dataList=t},methods:{doViewDetail:function(e){this.currItem=e,this.isPop=!0},doClosePop:function(){this.isPop=!1},doClickPopContent:function(e){e.stopPropagation()},doSelectItem:function(e,t,n){n.stopPropagation(),e.selected=!e.selected;if(this.dataList.splice(t,1,e),e.selected){for(var i=0;i<this.dataList.length&&this.dataList[i].selected;i++);this.isAll=i==this.dataList.length}else this.isAll=!1},doSelectAll:function(){var e=this;e.isAll=!e.isAll;var t=[];e.dataList.forEach(function(n){n.selected=e.isAll,t.push(n)}),e.dataList=t},doDel:function(){for(var e=0,t=this.dataList;e<t.length;)t[e].selected?(localStorage.removeItem(t[e].key),t.splice(e,1)):e++;for(a.a.tipShow("删除成功！"),e=0;e<t.length&&t[e].selected;e++);this.isAll=e&&e==this.dataList.length},doDelIDB:function(){l.a.closeDB(),indexedDB.deleteDatabase("spadb-t"+l.a.userId),a.a.tipShow("success")}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page",attrs:{id:"cache-clean-page"}},[n("div",{staticClass:"list",staticStyle:{height:"100%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:0!=e.dataList.length,expression:"dataList.length!=0"}],staticClass:"list-item tool-item clear-fix"},[n("i",{class:{active:e.isAll&&0!=e.dataList.length},on:{click:function(t){e.doSelectAll()}}}),e._v(" "),n("span",[e._v("全选")]),e._v(" "),n("a",{on:{click:function(t){e.doDel()}}},[e._v("删除")]),e._v(" "),n("a",{on:{click:function(t){e.doDelIDB()}}},[e._v("删除iDB")])]),e._v(" "),e._l(e.dataList,function(t,i){return n("div",{key:t.key,staticClass:"list-item",on:{click:function(n){e.doViewDetail(t)}}},[n("i",{class:{active:t.selected},on:{click:function(n){e.doSelectItem(t,i,n)}}}),e._v(" "),n("div",[e._v(e._s(t.key))]),e._v(" "),n("div",[e._v(e._s(t.value))])])}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:0==e.dataList.length,expression:"dataList.length==0"}],staticClass:"nullData"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.global.loading,expression:"!global.loading"}]}),e._v(" "),n("div",[e._v(e._s(e.global.loading?"数据加载中...":"缓存已被清理..."))])])],2),e._v(" "),n("div",{staticClass:"pop-modal",class:{active:e.isPop},on:{click:function(t){e.doClosePop()}}},[n("div",{on:{click:function(t){e.doClickPopContent(t)}}},[n("div",[e._v(e._s(e.currItem.key))]),e._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currItem.value,expression:"currItem.value"}],domProps:{value:e.currItem.value},on:{input:function(t){t.target.composing||e.$set(e.currItem,"value",t.target.value)}}})])])])},staticRenderFns:[]};var c=n("Z0/y")(o,s,!1,function(e){n("dg0v")},null,null);t.default=c.exports},dg0v:function(e,t,n){var i=n("q57j");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("FIqI")("0cbdf9e1",i,!0,{})},q57j:function(e,t,n){(e.exports=n("XLS9")(!1)).push([e.i,'\n.clearfix {\n  display: inline-block;\n}\n.clearfix:after {\n    display: block;\n    content: ".";\n    height: 0;\n    line-height: 0;\n    clear: both;\n    visibility: hidden;\n}\n@media (-webkit-min-device-pixel-ratio: 1.5), (min-device-pixel-ratio: 1.5) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.7);\n    transform: scaleY(0.7);\n}\n}\n@media (-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2) {\n.border-1px::after {\n    -webkit-transform: scaleY(0.5);\n    transform: scaleY(0.5);\n}\n}\ndiv#cache-clean-page {\n  overflow: hidden;\n  background: #f5f5f5;\n}\ndiv#cache-clean-page div.list {\n    overflow-y: auto;\n}\ndiv#cache-clean-page div.tool-item {\n    font-size: 0.778rem;\n}\ndiv#cache-clean-page div.tool-item > a {\n      text-decoration: underline;\n      float: right;\n}\ndiv#cache-clean-page div.tool-item > a:nth-of-type(1) {\n        margin-left: 0.3rem;\n}\ndiv#cache-clean-page div.list-item {\n    position: relative;\n    border-top: 1px solid #e0e0e0;\n    background-color: #fff;\n    padding: 0.444rem 0.55rem 0.444rem 1.4rem;\n    color: #666;\n    font-size: 0.889rem;\n}\ndiv#cache-clean-page div.list-item:nth-of-type(1) {\n      border-top-width: 0;\n}\ndiv#cache-clean-page div.list-item > i {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 1.4rem;\n      bottom: 0;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-pack: center;\n          -ms-flex-pack: center;\n              justify-content: center;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n}\ndiv#cache-clean-page div.list-item > i:before {\n        content: "";\n        display: block;\n        width: 8px;\n        height: 8px;\n        border: 1px solid #ccc;\n        border-radius: 50%;\n}\ndiv#cache-clean-page div.list-item > i.active:before {\n        background: #999;\n        border-color: #999;\n}\ndiv#cache-clean-page div.list-item > div {\n      word-break: break-all;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n}\ndiv#cache-clean-page div.list-item > div:nth-of-type(2) {\n        font-size: 0.667rem;\n}\ndiv#cache-clean-page .pop-modal > div {\n    position: absolute;\n    width: 18rem;\n    height: 13rem;\n    background: #fff;\n    border-radius: 4px;\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    padding: 0.222rem 0.333rem;\n}\ndiv#cache-clean-page .pop-modal > div > div {\n      color: #666;\n      font-size: 0.889rem;\n      height: 2rem;\n      line-height: 2rem;\n      margin-bottom: 0.11rem;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n}\ndiv#cache-clean-page .pop-modal > div > textarea {\n      border-radius: 0.222rem;\n      display: block;\n      width: 16.2rem;\n      height: 8.88rem;\n      padding: 0.4rem;\n      margin: 0 auto;\n      font-size: 0.667rem;\n      color: #666;\n      border: 1px solid #e0e0e0;\n}\n',""])}});